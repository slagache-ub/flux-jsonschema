{
  "allOf": [
    {
      "if": {
        "properties": {
          "apiVersion": {
            "pattern": "^.*v1$"
          },
          "kind": {
            "const": "Bucket"
          }
        }
      },
      "then": {
        "$ref": "https://raw.githubusercontent.com/slagache-ub/flux-jsonschema/refs/heads/master/source-controller/v1.7.1/bucket_v1.json"
      }
    },
    {
      "if": {
        "properties": {
          "apiVersion": {
            "pattern": "^.*v1beta2$"
          },
          "kind": {
            "const": "Bucket"
          }
        }
      },
      "then": {
        "$ref": "https://raw.githubusercontent.com/slagache-ub/flux-jsonschema/refs/heads/master/source-controller/v1.7.1/bucket_v1beta2.json"
      }
    },
    {
      "if": {
        "properties": {
          "apiVersion": {
            "pattern": "^.*v1$"
          },
          "kind": {
            "const": "ExternalArtifact"
          }
        }
      },
      "then": {
        "$ref": "https://raw.githubusercontent.com/slagache-ub/flux-jsonschema/refs/heads/master/source-controller/v1.7.1/externalartifact_v1.json"
      }
    },
    {
      "if": {
        "properties": {
          "apiVersion": {
            "pattern": "^.*v1$"
          },
          "kind": {
            "const": "GitRepository"
          }
        }
      },
      "then": {
        "$ref": "https://raw.githubusercontent.com/slagache-ub/flux-jsonschema/refs/heads/master/source-controller/v1.7.1/gitrepository_v1.json"
      }
    },
    {
      "if": {
        "properties": {
          "apiVersion": {
            "pattern": "^.*v1beta2$"
          },
          "kind": {
            "const": "GitRepository"
          }
        }
      },
      "then": {
        "$ref": "https://raw.githubusercontent.com/slagache-ub/flux-jsonschema/refs/heads/master/source-controller/v1.7.1/gitrepository_v1beta2.json"
      }
    },
    {
      "if": {
        "properties": {
          "apiVersion": {
            "pattern": "^.*v1$"
          },
          "kind": {
            "const": "HelmChart"
          }
        }
      },
      "then": {
        "$ref": "https://raw.githubusercontent.com/slagache-ub/flux-jsonschema/refs/heads/master/source-controller/v1.7.1/helmchart_v1.json"
      }
    },
    {
      "if": {
        "properties": {
          "apiVersion": {
            "pattern": "^.*v1beta2$"
          },
          "kind": {
            "const": "HelmChart"
          }
        }
      },
      "then": {
        "$ref": "https://raw.githubusercontent.com/slagache-ub/flux-jsonschema/refs/heads/master/source-controller/v1.7.1/helmchart_v1beta2.json"
      }
    },
    {
      "if": {
        "properties": {
          "apiVersion": {
            "pattern": "^.*v1$"
          },
          "kind": {
            "const": "HelmRepository"
          }
        }
      },
      "then": {
        "$ref": "https://raw.githubusercontent.com/slagache-ub/flux-jsonschema/refs/heads/master/source-controller/v1.7.1/helmrepository_v1.json"
      }
    },
    {
      "if": {
        "properties": {
          "apiVersion": {
            "pattern": "^.*v1beta2$"
          },
          "kind": {
            "const": "HelmRepository"
          }
        }
      },
      "then": {
        "$ref": "https://raw.githubusercontent.com/slagache-ub/flux-jsonschema/refs/heads/master/source-controller/v1.7.1/helmrepository_v1beta2.json"
      }
    },
    {
      "if": {
        "properties": {
          "apiVersion": {
            "pattern": "^.*v1$"
          },
          "kind": {
            "const": "OCIRepository"
          }
        }
      },
      "then": {
        "$ref": "https://raw.githubusercontent.com/slagache-ub/flux-jsonschema/refs/heads/master/source-controller/v1.7.1/ocirepository_v1.json"
      }
    },
    {
      "if": {
        "properties": {
          "apiVersion": {
            "pattern": "^.*v1beta2$"
          },
          "kind": {
            "const": "OCIRepository"
          }
        }
      },
      "then": {
        "$ref": "https://raw.githubusercontent.com/slagache-ub/flux-jsonschema/refs/heads/master/source-controller/v1.7.1/ocirepository_v1beta2.json"
      }
    }
  ]
}